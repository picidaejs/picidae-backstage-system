/**
 * @file: FileNode
 * @author: Cuttle Cong
 * @date: 2017/12/15
 * @description: $END$
 */

import React from 'react'
import cx from 'classnames'
import ContextMenu from '@fe/comps/ContextMenu'

export default class FileNode extends React.PureComponent {

  render() {
    const node = this.props

    return (
      <Node
        key={node.identifier}
        active={node.active}
        node={node}
      />
    )
  }
}

class Node extends React.PureComponent {

  render() {
    const { node, onClick, active } = this.props
    return (
      <ContextMenu>
        <ContextMenu.Container>
          <span
            className={cx('node', {
              'is-active': active
            })}
            onClick={onClick}
          >
            {node.module}
          </span>
        </ContextMenu.Container>
        <ContextMenu.Option
          onClick={() => console.log(node.identifier)}
        >
          {node.identifier}
        </ContextMenu.Option>
        <ContextMenu.Separator/>
        <ContextMenu.Option
          disabled
          onClick={() => console.log(node.identifier)}
        >
          {node.identifier + 'xx'}
        </ContextMenu.Option>
      </ContextMenu>
    )
  }
}
