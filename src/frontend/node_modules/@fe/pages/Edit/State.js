/**
 * @file: State
 * @author: Cuttle Cong
 * @date: 2017/12/11
 * @description: $END$
 */

import { action, observable } from '@fe/utils/decorator'
import Root from '@fe/utils/models/Root'

export default class State extends Root {
  @observable tree = {}

  @action async fetchTree() {
    const { data, code } = await fetch('/api/fileView/get')
    if (code === 200) {
      this.tree = data
    }
  }

  @action init(/*props*/) {
    this.fetchTree()
  }

  @action update(/*props*/) {
  }

  @action exit() {
  }
}